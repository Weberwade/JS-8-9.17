# 运算符（操作符）

运算符可以用来对一个或多个值进行运算

大部分的运算符都不会改变变量的值，赋值运算符除外

## 算术运算符

JS是一门弱类型语言，当进行运算时会通过自动的类型转换来完成运算

+ 注意
  + 算术运算时，除了字符串的加法，其他运算的操作数是非数值时，都会转换为数值再运算
  + 当任意一个值和字符串做加法运算(只有加法)时，它会先将其他值转换为字符串，然后再做拼串的操作

+ 可以利用字符串加法的隐式类型改变将数据类型变成字符串
  + 任意值 + 空串 = `123 + '' = '123'`
  + 其原理和String()函数相同，但使用更加简便

### 加法运算符（+）

+ NaN加任何数值的都是NaN

### 减法运算符（-）

### 乘法运算符（*）

### 除法运算符（/）

+ 除0不会得到0，会返回Infinity，除0时谨慎！！

### 幂运算(**)

+ 得到一个数的多少次方的结果，或者用0 - 1的小数开方

### 模运算(%)

+ 两个数相除取余数

## 赋值运算符

赋值运算符用来将一个值赋值给一个变量（将右边的值赋值给左边的变量）

一个变量只有在=左边才是变量，在=右边时它是值

### =

+ 将符号右侧的值赋值给左侧的值

### ??=

+ 空赋值
+ 只有当变量的值是null或undefined时才会对变量进行赋值

### +=

+ a += n 等价于 a = a + n

### -=

+ a -= n 等价于 a = a - n

### *=

+ a *= n 等价于 a = a * n

### /=

+ a /= n 等价于 a = a / n

### %=

+ a %= n 等价于 a = a % n

### **=

+ a **= n 等价于 a = a ** n

## 一元运算符

只对一个数操作的运算符

### 一元的±

+ +正号

  + 不会改变数值的符号
  + 可以对数值进行符号位取反

+ -负号

  + 可以对数值进行符号位取反

+ 当我们对非数值类型进行正负运算时，会先将其转换为数值然后再运算

  + `````javascript
    let b = '45'
    b = +b
    console.log(b);
    //返回值 数值45
    `````

  + b = +b 与 b = Number(b) 相同

## 自增和自减

会改变变量本身数值的运算符，不需要再次赋值

自增自减是一个一元运算符

### 自增运算符（++）

+ ++使用后会使得原来的变量立刻增加1
+ 自增分为前自增(++a)和后自增(a++)
  + 无论是前自增还是后自增都会使原变量立刻增加1
  + 不同的是前自增和后自增所返回的值不同
    + 后自增 是 返回自增前的值
    + 前自增 是 返回自增后的值

### 自减运算符（--）

+ --使用后会使得原来的变量立刻减少1
+ 自减分为前自减(--a)和后自减(a--)
  + 无论是前自减还是后自减都会使原变量立刻减少1
  + 不同的是前自减和后自减所返回的值不同
    + 后自减 是 返回自减前的值
    + 前自减 是 返回自减后的值

## 逻辑运算符

### !(逻辑非)

!可以用来对一个值进行非运算

+ 可以对一个布尔值进行取反操作 true --> false  false --> true

+ 逻辑非可以同时进行多次取反，如： `!!a`

+ 如果对一个非布尔值进行取反，它会先将其转换为布尔值然后再取反

  + 可以利用这个特点，将其他类型转换为布尔值

  + 例

    + ````````javascript
              a = 123
            
              a = !!a
            
              console.log(typeof a, a);
            		// 返回值 true

### &&(逻辑与)

可以对两个值进行与运算，当&&左右都为true时，则返回true，否则返回false

+ 与运算是短路的与，如果第一个值是false，则不看第二个值，不会执行第二个值

  + 如

    + `````javascript
      true && alert(123)//第一个值是true，alert会执行
      false && alert(123)//第一个值是false，alert不会执行
      `````

+ 当&&左右都为true时，则返回true，否则返回false

  + 例如

    + ``````javascript
      let result = true && true //true
      result = true && false // false
      result = false && false //false
      ``````

+ 与运算是找false，如果找到false则直接返回，没有false才会返回true

+ 对于非布尔值进行与运算时，它会转换为布尔值然后运算，但是最终会返回原值

  + 如果第一个值为false，则直接返回第一个值

  + 如果第一个值是true，则返回第二个值

  + 如

    + `````javascript
      result = 1 && 2 // 2
      result = 1 && 0 // 0
      result = 0 && NaN // 0 

### ||(逻辑或)

可以对两个值进行或运算，当||左右有true则返回true，否则返回false

+ 当||左右有true则返回true，否则返回false

  + 如

    + `````javascript
      result = true || false //true
      result = true || true //true
      result = false || false // false
      `````

+ 或运算也是短路的或，如果第一个值为true，则不看第二个值

  + 如

    + ````javascript
      result = false || alert('123') //第一个值为false，会返回alert
      result = true || alert('123') //第一个值为true，不会返回alert
      ````

+ 或运算是找true，如果找到true则直接返回，没有true才会返回false

对于非布尔值进行与运算时，它会转换为布尔值然后运算，但是最终会返回原值

+ 如果第一个值为true，则直接返回第一个值

+ 如果第一个值是false，则返回第二个值

+ 如

  + `````javascript
    result = 1 || 2 // 1 
    result = 1 || 0 // 1
    result = 0 || NaN // NaN 

## 关系运算符

关系运算符用来检查两个值之间的关系是否成立，成立返回true，不成立返回false

+ 非数值进行关系运算时，它会先将其转换为数值然后再进行比较

  + 注意！特殊情况：当关系运算符的两端是两个字符串时，它不会将字符串转换为数值，而是**逐位**的比较字符串的Unicode编码

    + 利用这个特定可以对字符串按照字母排序

    + ```````javascript
      a = "a" < "b" //true
      a = "z" < "f" //false
      //逐位比较所以只有a与f相比，a比f小所以返回true
      a = "abc" < "f" //true 
      ```````

  + 注意，就算字符串中是数字也会**逐位**的比较，所以比较结果不会像数值比较准确

    + ````javascript
      //逐位的比较 所以只有1 比 2 ，1 比 2 小所以返回true
      a = '12' < '2' //true
      ````

  + 比较两个字符串类型的数值时，一定要先进行类型转换

    + ````javascript
      a = +'12' < '2' //true
      ````

+ 关系运算符多个运算时执行顺序问题

  + 从左向右执行，多个比较会将返回值true，false与后比较没有意义，是错误写法

    + `````javascript
      // 检查b是否大于5小于10
      let b = 60
      b =  5 < b < 10 //true
      //相当于 5 < 60小 = true true(1) < 10 所以得true
      `````

  + 正确写法，利用逻辑运算符

    + ````javascript
      // 检查b是否大于5小于10
      let b = 7
      b = b > 5 && b < 10 //true

### >

用来检查左值是否大于右值

+ 用来检查左值是否大于右值

  + 如

    + ````javascript
      a = 10 > 2 //true
      a = 1 > 2 //false
      a = 5 > 5 //false

### >=

用来检查左值是否大于等于右值

+ 用来检查左值是否大于等于右值

  + 如

    + ````javascript
      a = 10 >= 2 //true
      a = 1 >= 2 //false
      a = 5 >= 5 //true

### <

用来检查左值是否小于右值

+ 用来检查左值是否小于右值

  + 如

    + ```````````javascript
      a = 10 < 2 //false
      a = 1 < 2 //true
      a = 5 < 5 //false

### <=

用来检查左值是否小于等于右值

+ 用来检查左值是否小于等于右值

  + 如

    + ```````````javascript
      a = 10 <= 2 //false
      a = 1 <= 2 //true
      a = 5 <= 5 //true

## 相等运算符（关系类）

### ==

相等运算符，用来比较两个值是否相等，相等返回true，不相等返回false

+ 用来比较两个值是否相等，相等返回true，不相等返回false

  + ````javascript
    let a = 1 == 1 //true
    a = 1 == 2 //false
    ````

+ 使用相等运算符比较两个不同类型得值时，它会将其转换为相同类型再比较，通常转换为数字，类型转换后值相同也会返回true

  + ``````javascript
    a = 1 == '1' //true
    a = true == '1' //true
    ``````

  + 特殊情况：null和undefined进行相等比较时会返回true

  + 特殊情况：NaN不和任何值相等，包括自身都会返回false
  
    + 但是可以使用函数IsNaN检查函数是否是NaN

### ===

全等运算符，用来比较两个值是否全等，它不会进行自动得类型转换，如果两个值得类型不同则直接返回false

+ 用来比较两个值是否全等，它不会进行自动得类型转换，如果两个值得类型不同则直接返回false

  + ````javascript
    a = 1 === 1 //true
    a = 1 === '1' //false
    ````

  + null和undefined进行全等比较会返回false

### !=

不等，用来检查两个值是否不相等，会自动进行类型转换

+ 用来检查两个值是否不相等，会自动进行类型转换

  + ```javascript
    a = 1 != 1 //false
    a = 1 != '1' //false
    a = 1 != 2 //true
    ```

### !==

不全等，比较两个值是否不全等，不会自动类型转换

+ 比较两个值是否不全等，不会自动类型转换

  + ````javascript
    a = 1 !== '1' //true
    a = 1 !== 1 //false

## 条件运算符（三元）

### ?:

写法：条件表达式？表达式1：表达式2

+ 执行顺序

  + 条件运算符再执行时，会先对条件表达式进行求值判断

    + 结果为true，则执行表达式1
    + 结果为false，则执行表达式2

  + ````javascript
    let a = 30
    let b = 20
    a > b ? alert('A大') : alert('B大')
    ````

+ 用来获取最大值

  + ````javascript
    let a = 30
    let b = 100
    let max = a > b ? a : b //100

## 运算符的优先级

和数学一样，JS中的运算符也有优先级，比如先乘除后加减，可以通过优先级的表格来查询运算符的优先级

[运算符优先级 - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)

网页表格中位置越靠上的优先级越高，优先级越高越先执行，优先级一样自左向右执行

+ 优先级我们不需要记忆，甚至表格都不需要看，因为()拥有最高的优先级，使用运算符但是拿不准情况时，可以通过()来提高优先级即可
